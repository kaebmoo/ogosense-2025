**การใช้งานอุปกรณ์วัดอุณหภูมิและควบคุมอุปกรณ์ไฟฟ้า**

---

### การติดตั้งอุปกรณ์

หากยังไม่ได้ตั้งค่า Wi-Fi อุปกรณ์จะไม่สามารถเชื่อมต่ออินเทอร์เน็ตได้ โดยอุปกรณ์จะเข้าสู่โหมดตั้งค่า Wi-Fi อัตโนมัติ โดยทำตัวเป็น Access Point ชื่อ **ogosense** จากนั้นให้ใช้โทรศัพท์หรือคอมพิวเตอร์เชื่อมต่อกับ Wi-Fi ชื่อ **ogosense** (รหัสผ่าน: **12345678**) เพื่อเข้าสู่หน้าจอการตั้งค่า จากนั้นให้เลือกเครือข่าย Wi-Fi ที่สามารถเชื่อมต่ออินเทอร์เน็ตได้ เช่น เครือข่ายของบ้านหรือที่ทำงาน แล้วกดบันทึกการตั้งค่า

---

**การดูสถานะหรือตั้งค่าอุณหภูมิ**

สามารถ chat ได้ผ่าน telegram app

* iPhone สามารถ download โปรแกรมได้ที่นี่ [https://apps.apple.com/us/app/telegram-messenger/id686449807](https://play.google.com/store/apps/details?id=org.telegram.messenger&hl=en) 
* Android สามารถ download ได้ที่นี่ [https://play.google.com/store/apps/details?id=org.telegram.messenger&hl=en](https://play.google.com/store/apps/details?id=org.telegram.messenger&hl=en) 

เมื่อติดตั้งโปรแกรมและลงทะเบียนใช้งานแล้วให้ทำการเพิ่มเพื่อน (add bot) ที่ชื่อ @getidsbot เพื่อทำการหา ID ของผู้ใช้ เพื่อนำ ID นั้นมาเพิ่มสิทธิในการเข้าเรียกดูอุปกรณ์ โดยการพิมพ์ /start แล้วกดส่งข้อความ จากนั้นดูเลข ID เพื่อนำ ID นั้นมาเพิ่มใน Telegram MQTT Bridge (ESP32) เพื่อที่จะสามารถให้ telegram bot สามารถรับส่งข้อมูลกับ ESP32 และส่ง message ไปยัง MQTT Server (EMQX) เพื่อสั่งงานไปยัง ESP8266 และรับข้อมูลกลับจาก ESP8266 ผ่านทาง MQTT Server มายัง ESP32 เพื่อส่งสถานะกลับไปยัง chat bot ต่อไป

โปรแกรมนี้จะจำกัด ID ไว้ 5 IDs ทั้งนี้มี 2 IDs ที่กำหนดตายตัวไว้ใน board ดังนั้นผู้ใช้สามารถเพิ่มได้อีก 3 IDs หมายความว่าจะมีคนที่สามารถควบคุมอุปกรณ์หรือดูสถานะได้สูงสุด 5 ผู้ใช้งาน 

![](Screenshot%202568-04-09%20at%2014.52.01.png)

**การใช้งานเรียกดูค่าอุณหภูมิหรือสถานะของเครื่อง**

ให้ทำการ add bot (หรือเพิ่มเพื่อนในการ chat)  ชื่อ @xxxxx (ชื่อ bot ที่เราสร้างขึ้นใน telegram ด้วย BotFather หรือ @BotFather เมื่อ add bot ของแล้ว ก็สามารถใช้งานสามารถพิมพ์ /start เพื่อดูว่าสามารถติดต่อกับ bot ที่ใช้คุยกับอุปกรณ์ได้หรือไม่ หรือใช้ /help เพื่อดูว่ามีคำสั่งอะไรให้ใช้ได้บ้าง (bot ที่สร้างนี้จะต้องถูกกำหนดไว้ใน ESP32 หรือ Telegram MQTT Bridge ด้วยเช่นกัน โดยระบุที่ token ของ bot ที่สร้างขึ้นมา software ที่ติดตั้งบน ESP32)

ตัวอย่างการใช้คำสั่ง `/status` `<device id>` โดย `<device id>` คือ ID ของเครื่อง ESP8266 ที่ถูกกำหนดไว้ที่อุปกรณ์ควบคุม

เรียกดูข้อมูลอุณหภูมิให้พิมพ์คำสั่ง `/status 12345` (`12345` คือหมายเลข ID ของอุปกรณ์) 

เช่น

![](Screenshot%202568-04-09%20at%2020.50.54.png)


![](Screenshot%202568-04-09%20at%2015.03.37.png)




